import{j as e,r as x,A as C,m as c}from"./animations-DCflcNKX.js";import{c as E}from"./utils-DOIGBiOF.js";import{c as h}from"./index-BYX0EW5b.js";import{L as R,Z as I}from"./zap-BcA2Yc5A.js";import{S as T}from"./shield-check-Nc6VCbRZ.js";import"./vendor-Cn7DgFGx.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=h("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=h("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=h("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),y=({children:f,className:u="",variant:m="default",size:g="md",...a})=>{const r="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none disabled:opacity-50",t={default:"bg-emerald-600 text-white hover:bg-emerald-700",primary:"bg-emerald-600 text-white hover:bg-emerald-700",cta:"bg-rose-500 text-white hover:bg-rose-600 font-bold shadow-lg",outline:"border border-emerald-600 text-emerald-600 hover:bg-emerald-50",ghost:"text-emerald-600 hover:bg-emerald-50"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsx("button",{className:`${r} ${t[m]??t.default} ${d[g]} ${u}`,...a,children:f})},p="nail_course_price_timer_v2",o=420,P=({initialAnchorPrice:f="R$ 497,00",promoPrice:u="R$ 49,90",checkoutUrl:m="#",className:g,onAnalytics:a=(r,t)=>console.log(`[Analytics] ${r}`,t)})=>{const[r,t]=x.useState("spoiler"),[d,l]=x.useState(o),n=x.useRef(null);x.useEffect(()=>{const s=sessionStorage.getItem(p);if(s)try{const{status:i,endTime:v}=JSON.parse(s);if(i==="revealed"){const S=Date.now(),b=Math.max(0,Math.ceil((v-S)/1e3));b>0?(t("revealed"),l(b)):(t("expired"),l(0),a("timer_expired",{auto:!0}))}else i==="expired"&&(t("expired"),l(0))}catch(i){console.error("Failed to parse saved timer state",i)}},[a]),x.useEffect(()=>(r==="revealed"&&d>0?n.current=setInterval(()=>{l(s=>{const i=s-1;return i<=0?(clearInterval(n.current),t("expired"),sessionStorage.setItem(p,JSON.stringify({status:"expired",endTime:0})),a("timer_expired"),0):i})},1e3):n.current&&clearInterval(n.current),()=>{n.current&&clearInterval(n.current)}),[r,d,a]);const j=()=>{const s=Date.now()+o*1e3;t("revealed"),l(o),sessionStorage.setItem(p,JSON.stringify({status:"revealed",endTime:s})),a("price_reveal_clicked"),a("timer_started",{duration:o})},w=()=>{t("revealed");const s=Date.now()+o*1e3;l(o),sessionStorage.setItem(p,JSON.stringify({status:"revealed",endTime:s})),a("timer_restarted")},N=()=>{a("cta_clicked",{url:m}),window.location.href=m},k=s=>{const i=Math.floor(s/60).toString().padStart(2,"0"),v=(s%60).toString().padStart(2,"0");return`${i}:${v}`};return e.jsx("section",{className:"pt-0 pb-20 md:pt-0 md:pb-32 bg-white relative overflow-hidden",children:e.jsx("div",{className:"container px-4 md:px-6 mx-auto flex flex-col items-center",children:e.jsx("div",{className:E("relative w-full max-w-md mx-auto overflow-hidden transition-all duration-500","bg-white rounded-2xl shadow-xl border",r==="spoiler"?"border-rose-100 p-6":"border-[#20B27A] p-0 ring-4 ring-[#20B27A]/10",g),children:e.jsxs(C,{mode:"wait",children:[r==="spoiler"&&e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:1.05,filter:"blur(8px)"},transition:{duration:.3},className:"flex flex-col items-center text-center space-y-6",children:[e.jsxs("button",{onClick:j,className:"relative w-full overflow-hidden rounded-xl group cursor-pointer","aria-label":"Revelar pre√ßo",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-100 transition-opacity duration-500 bg-[#333]",children:[e.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,filter:"contrast(150%) brightness(100%)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-12 translate-x-[-100%] animate-[shimmer_2s_infinite]"})]}),e.jsxs("div",{className:"relative z-10 py-10 px-4 select-none flex flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"h-4 w-3/4 bg-white/20 rounded-md animate-pulse mb-2 blur-[2px]"}),e.jsx("div",{className:"h-10 w-1/2 bg-white/20 rounded-md animate-pulse blur-[2px]"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium border border-white/10 shadow-lg flex items-center gap-2 transform group-hover:scale-105 transition-transform",children:[e.jsx(_,{className:"w-4 h-4"}),"Toque para revelar"]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("p",{className:"font-bold text-zinc-800 text-lg leading-tight",children:"Preparei uma condi√ß√£o √öNICA para VOC√ä agora."})}),e.jsx("div",{className:"pt-3 border-t border-zinc-100",children:e.jsxs("p",{className:"text-[10px] leading-relaxed text-zinc-400 italic",children:["*Ao ativar, voc√™ concorda que esta oferta exclusiva ficar√° dispon√≠vel ",e.jsx("br",{className:"hidden sm:block"}),"apenas para esta se√ß√£o e poder√° expirar em breve."]})})]})]},"spoiler"),r==="revealed"&&e.jsxs(c.div,{id:"price-reveal-content-v2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"flex flex-col items-center w-full",children:[e.jsxs("div",{className:"relative w-full bg-[#F2FCF5] py-3.5 text-center rounded-t-2xl overflow-hidden border-b border-[#20B27A]/10 flex justify-center items-center",children:[e.jsx("span",{className:"text-[#1A7A4E] font-[800] text-[10px] sm:text-[12px] tracking-wider sm:tracking-[0.15em] uppercase px-12",children:"OFERTA POR TEMPO LIMITADO"}),e.jsx("div",{className:"absolute top-0 right-0 h-full flex items-center bg-[#20B27A] text-white text-[11px] sm:text-[12px] font-bold px-3 sm:px-4 rounded-bl-2xl sm:rounded-bl-3xl",children:"~90% OFF"})]}),e.jsxs("div",{className:"px-6 sm:px-8 pb-8 pt-6 w-full flex flex-col items-center space-y-6 text-center",children:[e.jsxs("div",{className:"space-y-0.5 w-full flex flex-col items-center",children:[e.jsxs(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"text-lg text-slate-400 line-through font-medium",children:["De: ",f]}),e.jsx(c.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,delay:.3},className:"text-6xl sm:text-[72px] leading-none font-black text-rose-500 tracking-tighter",style:{textShadow:"0 4px 12px rgba(225, 29, 72, 0.15)"},children:u})]}),e.jsxs("div",{className:"w-full p-4 bg-orange-50/80 rounded-xl flex items-center justify-between",role:"timer","aria-live":"polite",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(M,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-semibold text-[13px] sm:text-sm",children:"Pre√ßo reservado por:"})]}),e.jsx("span",{className:"font-mono text-xl font-bold text-orange-600 w-[60px] text-right",children:k(d)})]}),e.jsx(y,{onClick:N,variant:"cta",className:"w-full text-lg py-6 shadow-lg shadow-rose-200/50 hover:shadow-rose-300/60 animate-in fade-in zoom-in duration-300",children:"Garantir minha vaga agora"}),e.jsxs("div",{className:"w-full flex flex-col items-center gap-3 mt-4",children:[e.jsxs("div",{className:"flex flex-row items-center justify-center gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[12px] sm:text-[13px] font-medium",children:[e.jsx(R,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-400 stroke-[2.5]"}),e.jsx("span",{children:"Pagamento Seguro"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[12px] sm:text-[13px] font-medium",children:[e.jsx(T,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-400 stroke-[2.5]"}),e.jsx("span",{children:"7 Dias de Garantia"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[12px] sm:text-[13px] font-medium",children:[e.jsx(I,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-400 stroke-[2.5]"}),e.jsx("span",{children:"Acesso Imediato"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-full p-4 sm:p-5 rounded-2xl bg-gradient-to-br from-slate-50 to-slate-100/50 border border-slate-200/60 shadow-sm mt-2",children:[e.jsxs("p",{className:"text-[13px] sm:text-sm text-slate-500 font-medium mb-3.5 text-left border-b border-slate-200/60 pb-2",children:["Isso √©"," ",e.jsx("strong",{className:"text-rose-500 font-bold uppercase tracking-wider",children:"menos"})," ","que:"]}),e.jsxs("ul",{className:"space-y-2.5 text-left",children:[e.jsxs("li",{className:"flex items-start gap-2.5 text-[13px] sm:text-sm text-slate-600 leading-snug",children:[e.jsx("span",{className:"shrink-0",children:"üíÖ"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-slate-800",children:"Meia unha"})," ","que voc√™ VAI fazer (se cobrar R$ 100)"]})]}),e.jsxs("li",{className:"flex items-start gap-2.5 text-[13px] sm:text-sm text-slate-600 leading-snug",children:[e.jsx("span",{className:"shrink-0",children:"üç®"}),e.jsx("span",{children:"1 a√ßa√≠ por semana (R$ 8/semana)"})]}),e.jsxs("li",{className:"flex items-start gap-2.5 text-[13px] sm:text-sm text-slate-600 leading-snug",children:[e.jsx("span",{className:"shrink-0",children:"üöó"}),e.jsx("span",{children:"1 Uber ida+volta"})]})]})]})]})]},"revealed"),r==="expired"&&e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center text-center space-y-6 py-4 p-8 bg-white",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-2",children:e.jsx(O,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reserva expirada"}),e.jsx("p",{className:"text-gray-500 max-w-[200px] mx-auto",children:"O tempo para garantir essa condi√ß√£o especial acabou."})]}),e.jsxs(y,{onClick:w,variant:"primary",className:"w-full gap-2 rounded-xl py-6",children:[e.jsx(A,{className:"w-4 h-4"}),"Tentar Reservar Novamente"]})]},"expired")]})})})})};export{P as PriceSpoilerV2};
